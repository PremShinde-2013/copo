import connectDB from "@/libs/mongodb";
import Table from "@/models/Table";
import { NextResponse } from "next/server";

export async function POST(request: any) {
	const {
		po11,
		po12,
		po13,
		po14,
		po15,

		competency11,
		competency12,
		competency13,
		competency14,
		competency15,

		indicators11,
		indicators12,
		indicators13,
		indicators14,
		indicators15,

		weight11,
		weight12,
		weight13,
		weight14,
		weight15,

		co111,
		co112,
		co113,
		co114,
		co115,

		co211,
		co212,
		co213,
		co214,
		co215,

		co311,
		co312,
		co313,
		co314,
		co315,

		co411,
		co412,
		co413,
		co414,
		co415,

		co511,
		co512,
		co513,
		co514,
		co515,

		co611,
		co612,
		co613,
		co614,
		co615,

		co711,
		co712,
		co713,
		co714,
		co715,

		po1mapco1,
		po1mapco2,
		po1mapco3,
		po1mapco4,
		po1mapco5,
		po1mapco6,
		po1mapco7,

		year,
		dept,
		sem,
		subject,

		// ************************** PO:2 ****************************

		po21,

		competency21,
		competency22,
		competency23,
		competency24,

		indicators21,
		indicators22,
		indicators23,
		indicators24,
		indicators25,
		indicators26,
		indicators27,
		indicators28,
		indicators29,
		indicators210,
		indicators211,
		indicators212,
		indicators213,

		weight21,
		weight22,
		weight23,
		weight24,
		weight25,
		weight26,
		weight27,
		weight28,
		weight29,
		weight210,
		weight211,
		weight212,
		weight213,

		co121,
		co122,
		co123,
		co124,
		co125,
		co126,
		co127,
		co128,
		co129,
		co1210,
		co1211,
		co1212,
		co1213,

		co221,
		co222,
		co223,
		co224,
		co225,
		co226,
		co227,
		co228,
		co229,
		co2210,
		co2211,
		co2212,
		co2213,

		co321,
		co322,
		co323,
		co324,
		co325,
		co326,
		co327,
		co328,
		co329,
		co3210,
		co3211,
		co3212,
		co3213,

		co421,
		co422,
		co423,
		co424,
		co425,
		co426,
		co427,
		co428,
		co429,
		co4210,
		co4211,
		co4212,
		co4213,

		co521,
		co522,
		co523,
		co524,
		co525,
		co526,
		co527,
		co528,
		co529,
		co5210,
		co5211,
		co5212,
		co5213,

		co621,
		co622,
		co623,
		co624,
		co625,
		co626,
		co627,
		co628,
		co629,
		co6210,
		co6211,
		co6212,
		co6213,

		co721,
		co722,
		co723,
		co724,
		co725,
		co726,
		co727,
		co728,
		co729,
		co7210,
		co7211,
		co7212,
		co7213,

		po2mapco1,
		po2mapco2,
		po2mapco3,
		po2mapco4,
		po2mapco5,
		po2mapco6,
		po2mapco7,
	} = await request.json();
	await connectDB();
	await Table.create({
		po11,
		po12,
		po13,
		po14,
		po15,

		competency11,
		competency12,
		competency13,
		competency14,
		competency15,

		indicators11,
		indicators12,
		indicators13,
		indicators14,
		indicators15,

		weight11,
		weight12,
		weight13,
		weight14,
		weight15,

		co111,
		co112,
		co113,
		co114,
		co115,

		co211,
		co212,
		co213,
		co214,
		co215,

		co311,
		co312,
		co313,
		co314,
		co315,

		co411,
		co412,
		co413,
		co414,
		co415,

		co511,
		co512,
		co513,
		co514,
		co515,

		co611,
		co612,
		co613,
		co614,
		co615,

		co711,
		co712,
		co713,
		co714,
		co715,

		po1mapco1,
		po1mapco2,
		po1mapco3,
		po1mapco4,
		po1mapco5,
		po1mapco6,
		po1mapco7,

		year,
		dept,
		sem,
		subject,

		// *********************** PO:2 **************************
		po21,

		competency21,
		competency22,
		competency23,
		competency24,

		indicators21,
		indicators22,
		indicators23,
		indicators24,
		indicators25,
		indicators26,
		indicators27,
		indicators28,
		indicators29,
		indicators210,
		indicators211,
		indicators212,
		indicators213,

		weight21,
		weight22,
		weight23,
		weight24,
		weight25,
		weight26,
		weight27,
		weight28,
		weight29,
		weight210,
		weight211,
		weight212,
		weight213,

		co121,
		co122,
		co123,
		co124,
		co125,
		co126,
		co127,
		co128,
		co129,
		co1210,
		co1211,
		co1212,
		co1213,

		co221,
		co222,
		co223,
		co224,
		co225,
		co226,
		co227,
		co228,
		co229,
		co2210,
		co2211,
		co2212,
		co2213,

		co321,
		co322,
		co323,
		co324,
		co325,
		co326,
		co327,
		co328,
		co329,
		co3210,
		co3211,
		co3212,
		co3213,

		co421,
		co422,
		co423,
		co424,
		co425,
		co426,
		co427,
		co428,
		co429,
		co4210,
		co4211,
		co4212,
		co4213,

		co521,
		co522,
		co523,
		co524,
		co525,
		co526,
		co527,
		co528,
		co529,
		co5210,
		co5211,
		co5212,
		co5213,

		co621,
		co622,
		co623,
		co624,
		co625,
		co626,
		co627,
		co628,
		co629,
		co6210,
		co6211,
		co6212,
		co6213,

		co721,
		co722,
		co723,
		co724,
		co725,
		co726,
		co727,
		co728,
		co729,
		co7210,
		co7211,
		co7212,
		co7213,

		po2mapco1,
		po2mapco2,
		po2mapco3,
		po2mapco4,
		po2mapco5,
		po2mapco6,
		po2mapco7,
	});

	return NextResponse.json({ message: "Topic Created" });
}

export async function GET() {
	await connectDB();
	const table = await Table.find();
	return NextResponse.json({ table });
}

export async function DELETE(request: any) {
	const id = request.nextUrl.searchParams.get("id");
	await connectDB();
	await Table.findByIdAndDelete(id);
	return NextResponse.json({ message: "Table deleted " }, { status: 200 });
}
